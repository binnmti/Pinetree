@* Loading Wrapper Component - conditionally shows loading spinner or content *@
@using Pinetree.Client.Components

@if (IsLoading)
{
    <LoadingSpinner Message="@LoadingMessage" />
}
else if (HasError && !string.IsNullOrEmpty(ErrorMessage))
{
    <div class="alert alert-danger" role="alert">
        <h4 class="alert-heading">Error</h4>
        <p>@ErrorMessage</p>
        @if (ShowRetryButton)
        {
            <button class="btn btn-outline-danger" @onclick="OnRetry">
                <i class="bi bi-arrow-clockwise"></i> Retry
            </button>
        }
    </div>
}
else
{
    @ChildContent
}

@code {
    [Parameter] public bool IsLoading { get; set; }
    [Parameter] public string LoadingMessage { get; set; } = "Loading...";
    [Parameter] public bool HasError { get; set; }
    [Parameter] public string ErrorMessage { get; set; } = string.Empty;
    [Parameter] public bool ShowRetryButton { get; set; } = false;
    [Parameter] public EventCallback OnRetry { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
}
