@using Pinetree.Shared.Services
@inject LocalizationService LocalizationService

<div class="language-switcher">
    <div class="btn-group" role="group" aria-label="Language selection">
        <button type="button" 
                class="btn @(IsCurrentLanguage("en") ? "btn-primary" : "btn-outline-primary")" 
                @onclick="SetEnglish">
            EN
        </button>
        <button type="button" 
                class="btn @(IsCurrentLanguage("ja") ? "btn-primary" : "btn-outline-primary")" 
                @onclick="SetJapanese">
            日本語
        </button>
    </div>
</div>

@code {
    private bool IsCurrentLanguage(string culture)
    {
        return LocalizationService.CurrentCulture.TwoLetterISOLanguageName == culture;
    }

    private async Task SetEnglish()
    {
        await LocalizationService.SetCultureAsync("en");
    }

    private async Task SetJapanese()
    {
        await LocalizationService.SetCultureAsync("ja");
    }
}
